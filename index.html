<!DOCTYPE html>  
<html lang="en">  
<head>  
  <meta charset="UTF-8">  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">  
  <title>NexLink</title>  
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">  
  
  <!-- Firebase SDK (modular version) -->  
  <script type="module">  
    // Firebase imports  
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";  
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-analytics.js";  
    import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-auth.js";  
    import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-database.js";  
  
    // Your Firebase configuration  
    const firebaseConfig = {  
      apiKey: "AIzaSyAHy5VoSosMX0TcdZ2J43YgGQzxb6d6B8Y",  
      authDomain: "nexlink-a0b9c.firebaseapp.com",  
      databaseURL: "https://nexlink-a0b9c-default-rtdb.firebaseio.com",  
      projectId: "nexlink-a0b9c",  
      storageBucket: "nexlink-a0b9c.firebasestorage.app",  
      messagingSenderId: "472491790040",  
      appId: "1:472491790040:web:e86343d55852c275fd51ad",  
      measurementId: "G-PT7HQJWYTJ"  
    };  
  
    // Initialize Firebase  
    const app = initializeApp(firebaseConfig);  
    const analytics = getAnalytics(app);  
  
    // Make Firebase services globally accessible  
    window.firebaseApp    = app;  
    window.auth           = getAuth(app);  
    window.googleProvider = new GoogleAuthProvider();  
    window.db             = getDatabase(app);  
  
    // Auth state listener ‚Äì hide setup screen when signed in  
    onAuthStateChanged(window.auth, (user) => {  
      const setup = document.getElementById("setup");  
      if (user) {  
        console.log("Signed in:", user.displayName, user.uid);  
        if (setup) setup.classList.add("hidden");  
      } else {  
        console.log("Not signed in");  
        if (setup) setup.classList.remove("hidden");  
      }  
    });  
  </script>  
  
  <style>  
    :root {  
      --gold: #d4a843;  
      --gold2: #f0c866;  
      --dark: #080808;  
      --dark2: #101010;  
      --dark3: #181818;  
      --dark4: #222;  
      --dark5: #2a2a2a;  
      --cream: #f0ebe0;  
      --cream2: #b8b0a0;  
      --red: #e03535;  
      --green: #2ecc71;  
      --blue: #3a8fd4;  
    }  
  
    * { margin:0; padding:0; box-sizing:border-box; }  
    html { font-size:16px; }  
    body {  
      background:var(--dark);  
      color:var(--cream);  
      font-family:'DM Sans',sans-serif;  
      font-weight:300;  
      min-height:100vh;  
      overflow-x:hidden;  
    }  
    body::after {  
      content:'';  
      position:fixed; inset:0;  
      background:  
        radial-gradient(ellipse 60% 40% at 10% 80%, rgba(212,168,67,0.06) 0%, transparent 60%),  
        radial-gradient(ellipse 50% 60% at 90% 10%, rgba(212,168,67,0.04) 0%, transparent 60%);  
      pointer-events:none; z-index:0;  
    }  
  
    .setup {  
      position:fixed; inset:0; background:var(--dark);  
      display:flex; align-items:center; justify-content:center; flex-direction:column; gap:0; z-index:999;  
    }  
    .setup-logo {  
      font-family:'Playfair Display',serif; font-size:72px; letter-spacing:6px;  
      background:linear-gradient(135deg,var(--gold),var(--gold2),var(--gold));  
      -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;  
      margin-bottom:8px;  
    }  
    .setup-tagline {  
      font-size:11px; letter-spacing:6px; text-transform:uppercase; color:var(--cream2); margin-bottom:56px;  
    }  
    .btn-g {  
      background:linear-gradient(135deg,var(--gold),var(--gold2)); color:var(--dark); border:none;  
      font-family:'DM Sans',sans-serif; font-size:11px; letter-spacing:4px; text-transform:uppercase;  
      font-weight:500; cursor:pointer; transition:opacity .3s;  
      width:100%; max-width:320px; padding:16px; border-radius:4px;  
    }  
    .btn-g:hover { opacity:.85; }  
    .hidden { display: none !important; }  
  
    /* Paste all your remaining original CSS classes here (header, bottom-nav, main, joke-day, jokes-grid, videos, stories, live, modals, etc.) */  
    /* For example: */  
    header { position:fixed; top:0; left:0; right:0; height:64px; display:flex; align-items:center; justify-content:space-between; padding:0 32px; background:rgba(8,8,8,0.95); backdrop-filter:blur(16px); border-bottom:1px solid rgba(212,168,67,0.15); z-index:100; }  
    .logo { font-family:'Playfair Display',serif; font-size:24px; letter-spacing:2px; background:linear-gradient(135deg,var(--gold),var(--gold2)); -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; }  
    .bottom-nav { position:fixed; bottom:0; left:0; right:0; height:68px; background:rgba(10,10,10,0.97); backdrop-filter:blur(20px); border-top:1px solid rgba(212,168,67,0.15); display:flex; align-items:stretch; z-index:100; }  
    main { margin-top:64px; margin-bottom:68px; min-height:calc(100vh - 132px); position:relative; z-index:1; }  
    .section { display:none; padding:28px 24px 24px; }  
    .section.active { display:block; animation:fadeUp .35s ease; }  
    @keyframes fadeUp { from { opacity:0; transform:translateY(16px); } to { opacity:1; transform:none; } }  
  
    /* Continue pasting the rest of your original CSS here... */  
  </style>  
</head>  
<body>  
  
  <!-- Login / Setup Screen -->  
  <div class="setup" id="setup">  
    <div class="setup-logo">NexLink</div>  
    <div class="setup-tagline">Connect ¬∑ Laugh ¬∑ Know ¬∑ Earn</div>  
      
    <!-- Google Sign-In Button -->  
    <button class="btn-g" id="googleSignInBtn" style="margin-top: 40px;">  
      Sign in with Google  
    </button>  
  </div>  
  
  <!-- Main app structure -->  
  <header>  
    <div class="logo">NexLink</div>  
    <!-- Add profile/phone info if needed -->  
  </header>  
  
  <main>  
    <!-- Paste your joke, video, story, live, etc. sections here -->  
    <!-- Example placeholder -->  
    <div class="section" id="home">  
      <h1>Welcome to NexLink</h1>  
      <!-- Your content goes here -->  
    </div>  
  </main>  
  
  <div class="bottom-nav">  
    <!-- Add your nav items here, e.g. -->  
    <button class="nav-item active"><span class="icon">üè†</span><span>Home</span></button>  
    <button class="nav-item"><span class="icon">üòÇ</span><span>Jokes</span></button>  
    <button class="nav-item"><span class="icon">üé•</span><span>Videos</span></button>  
    <button class="nav-item"><span class="icon">üìñ</span><span>Stories</span></button>  
    <button class="nav-item"><span class="icon">üî¥</span><span>Live</span></button>  
  </div>  
  
  <!-- Google Sign-In handler -->  
  <script type="module">  
    document.addEventListener("DOMContentLoaded", () => {  
      const signInBtn = document.getElementById("googleSignInBtn");  
  
      if (signInBtn) {  
        signInBtn.addEventListener("click", async () => {  
          try {  
            const result = await signInWithPopup(window.auth, window.googleProvider);  
            const user = result.user;  
            console.log("Signed in:", user.displayName);  
  
            // Save basic user info to database  
            const userRef = ref(window.db, `users/${user.uid}`);  
            await set(userRef, {  
              uid: user.uid,  
              displayName: user.displayName || "User",  
              email: user.email,  
              photoURL: user.photoURL || null,  
              createdAt: new Date().toISOString()  
            });  
  
          } catch (error) {  
            console.error("Sign-in failed:", error);  
            alert("Could not sign in. Please try again.");  
          }  
        });  
      }  
    });  
  </script>  
  
</body>  
                               </html>
